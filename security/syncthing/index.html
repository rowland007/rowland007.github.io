<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="Randy Rowland">
    <link rel="canonical" href="https://rowland007.github.io/security/syncthing/">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Syncthing - MkDocs Test Document</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Overview", url: "#_top", children: [
          ]},
          {title: "File Management", url: "#file-management", children: [
              {title: "Example", url: "#example" },
          ]},
          {title: "Notes", url: "#notes", children: [
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../signing-software/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../signing-software/" class="btn btn-xs btn-link">
        Signing Software
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../gpg/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../gpg/" class="btn btn-xs btn-link">
        GPG
      </a>
    </div>
    
  </div>

    

    <h1 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h1>
<p>When utilizing Syncthing between desktop computers, phones, and the Syncthing server, files located on the server may be plaintext. This could cause compromise if someone was to gain access to the files on the server if the server is on. The hard drive is encrypted but only when power is removed. To increase security, all files should be synced using Cryptomator. This will ensure files at rest on the server are always encrypted. This will also ensure files are encrypted as they transverse through the internet and prevent unauthorized access should the modem/router/wi-fi be compromised. This document covers how to setup the correct file structure per VM or OS.</p>
<p><img alt="SyncthingSecurityModel" src="../_resources/bd76df8c8307449c8cb25330c0be04c0.png" /></p>
<h1 id="file-management">File Management<a class="headerlink" href="#file-management" title="Permanent link">&para;</a></h1>
<p>The idea is to have the folders of the encrypted files synced in another location besides the <code>Document</code> like folders. Then when utilizing Cryptomator to decrypt the files and mount it to a location, <code>Document</code> could be mounted over with the decrypted files. This could also server a decoy with fake files located in <code>Document</code> if the device happens to be investigated. [<strong>UPDATE</strong>] Cryptomator will not allow the decrypted files to be mounted over other files. The directory must be empty.</p>
<p><img alt="SyncthingFileStructure" src="../_resources/b29419e9d5184bcc88aa647d088f7704.png" /></p>
<h2 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h2>
<p>Within the <code>/home/$USER/</code> directory, you utilize one directory to hold all the encrypted sync files. For example <code>/home/$USER/Sync/</code> and within that folder would have all the Cryptomator vaults. The following example is for a school-used device. In <code>/home/$USER/Sync/</code> create a new vault called <code>documents</code> and <code>photos</code>. This will create new directories so the file structure will now look like <code>/home/$USER/Sync/documents/masterkey.cryptomator</code> and <code>/home/$USER/Sync/photos/masterkey.cryptomator</code>. When going to decrypt them, click the more options button. Use the <code>Custom Mount Point</code> and select the proper folder within the <code>/home/$USER/</code> folder.</p>
<h1 id="notes">Notes<a class="headerlink" href="#notes" title="Permanent link">&para;</a></h1>
<p>Syncthing should only be used for working documents. Once the file is ready for archive purposes, it should be moved to the Nextcloud server. The Nextcloud server provides encryption at rest and the ability to access the file through the application or web if needed for reference.</p>
<p>A list of Syncthing devices and folder IDs should be placed on a secure and encrypted server. This will allow new devices to add previous devices and folder IDs so syncing can happen.</p>

  <br>
    

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../signing-software/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../signing-software/" class="btn btn-xs btn-link">
        Signing Software
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../gpg/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../gpg/" class="btn btn-xs btn-link">
        GPG
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/rowland007/rowland007.github.io/edit/master/docs/security/syncthing.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>